<form
  id="contact-form"
  action="https://formspree.io/f/mandvkwv"
  class="fs-form"
  target="_top"
  method="POST"
>
  <div class="fs-field">
    <label class="fs-label" for="name">Nombre</label>
    <input class="fs-input" id="name" name="name" required />
  </div>

  <div class="fs-field">
    <label class="fs-label" for="email">Email</label>
    <input class="fs-input" id="email" name="email" type="email" required />
    <p class="fs-description">
      Este correo será usado para responderte.
    </p>
  </div>

  <div class="fs-field">
    <label class="fs-label" for="message">Mensaje</label>
    <textarea
      class="fs-textarea"
      id="message"
      name="message"
      required
    ></textarea>
    <p class="fs-description">¿Qué te gustaría consultar?</p>
  </div>

  <div class="fs-button-group">
    <button class="fs-button" type="submit">Enviar</button>
  </div>
</form>

<!-- Modal de confirmación -->
<div id="modal" class="modal">
  <div class="modal-content">
    <p id="modal-message">✅ Mensaje enviado con éxito</p>
    <button id="close-modal" class="fs-button">Cerrar</button>
  </div>
</div>

<style>
  /* Estilos del modal */
  .modal {
    display: none; /* Oculto por defecto */
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(3px);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .modal-content {
    background: white;
    padding: 30px;
    border-radius: 12px;
    text-align: center;
    max-width: 400px;
    width: 90%;
    font-family: "Poppins", sans-serif;
    box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.3);
  }

  .modal-content p {
    font-size: 18px;
    margin-bottom: 20px;
    color: green;
  }

  #close-modal {
    background-color: #b64e08;
  }
</style>

<script>
  const form = document.getElementById("contact-form");
  const modal = document.getElementById("modal");
  const modalMessage = document.getElementById("modal-message");
  const closeModal = document.getElementById("close-modal");

  form.addEventListener("submit", async function (e) {
    e.preventDefault();
    const data = new FormData(form);

    try {
      const response = await fetch(form.action, {
        method: form.method,
        body: data,
        headers: { Accept: "application/json" },
      });

      if (response.ok) {
        form.reset();
        modalMessage.textContent = "✅ Mensaje enviado con éxito";
        modalMessage.style.color = "green";
        modal.style.display = "flex";

        // Cerrar automáticamente después de 3 segundos
        setTimeout(() => {
          modal.style.display = "none";
        }, 3000);
      } else {
        modalMessage.textContent = "❌ Error al enviar. Intenta de nuevo.";
        modalMessage.style.color = "red";
        modal.style.display = "flex";
      }
    } catch (error) {
      modalMessage.textContent = "⚠️ Ocurrió un error. Revisa tu conexión.";
      modalMessage.style.color = "orange";
      modal.style.display = "flex";
    }
  });

  closeModal.addEventListener("click", () => {
    modal.style.display = "none";
  });
</script>
